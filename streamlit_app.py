import streamlit as st

# --- í˜ì´ì§€ ì„¤ì • ---
# st.set_page_config(layout="wide") # ë„“ì€ ë ˆì´ì•„ì›ƒì„ ì›í•  ê²½ìš° ì£¼ì„ í•´ì œ

# --- ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™” ---
# í€´ì¦ˆ ì§„í–‰ ìƒíƒœë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ session_stateë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
if 'current_question' not in st.session_state:
    st.session_state.current_question = 0
    st.session_state.score = 0

# --- ì‚¬ì´ë“œë°” ë©”ë‰´ ---
with st.sidebar:
    st.title('ğŸš— í•™ìŠµ ë©”ë‰´')
    menu = st.radio(
        "ë©”ë‰´ë¥¼ ì„ íƒí•˜ì„¸ìš”.",
        ('í™ˆ', 'ê°œë… í•™ìŠµ', 'ê°œë… í™•ì¸ í€´ì¦ˆ', 'ì „ê¸° ì¥ì¹˜ ì°¾ì•„ë³´ê¸°'),
        label_visibility="collapsed"
    )

# --- í€´ì¦ˆ ë°ì´í„° ---
quiz_data = [
    {
        "type": "multiple_choice",
        "question": "1. ì˜´ì˜ ë²•ì¹™(V=IR)ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "options": [
            "ì „ë¥˜ëŠ” ì „ì••ì— ë°˜ë¹„ë¡€í•˜ê³  ì €í•­ì— ë¹„ë¡€í•œë‹¤.",
            "ì „ì••ì€ ì „ë¥˜ì™€ ì €í•­ì˜ ê³±ê³¼ ê°™ë‹¤.",
            "ì €í•­ì€ ì „ì••ê³¼ ì „ë¥˜ì— ë¹„ë¡€í•œë‹¤.",
            "ì „ë¥˜ì˜ ë‹¨ìœ„ëŠ” ë³¼íŠ¸(V)ì´ë‹¤."
        ],
        "answer": "ì „ì••ì€ ì „ë¥˜ì™€ ì €í•­ì˜ ê³±ê³¼ ê°™ë‹¤.",
        "explanation": "ì˜´ì˜ ë²•ì¹™ì€ V = I x R ì…ë‹ˆë‹¤. ì¦‰, ì „ì••(V)ì€ ì „ë¥˜(I)ì™€ ì €í•­(R)ì„ ê³±í•œ ê°’ê³¼ ê°™ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì „ë¥˜(I)ëŠ” ì „ì••(V)ì— ë¹„ë¡€í•˜ê³  ì €í•­(R)ì— ë°˜ë¹„ë¡€í•©ë‹ˆë‹¤."
    },
    {
        "type": "multiple_choice",
        "question": "2. ë‹¤ìŒ ì¤‘ ìë™ì°¨ì˜ 'ì „ê¸° ì¥ì¹˜'ì— ì†í•˜ì§€ **ì•ŠëŠ”** ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "options": [
            "ì‹œë™ ëª¨í„° (Starting Motor)",
            "ë°œì „ê¸° (Alternator)",
            "ë¸Œë ˆì´í¬ (Brake)",
            "ì „ì¡°ë“± (Headlight)"
        ],
        "answer": "ë¸Œë ˆì´í¬ (Brake)",
        "explanation": "ë¸Œë ˆì´í¬ëŠ” ìë™ì°¨ë¥¼ ë©ˆì¶”ê²Œ í•˜ëŠ” ì œë™ ì¥ì¹˜ë¡œ, 'ì„€ì‹œ(Chassis)' ì¥ì¹˜ì— ì†í•©ë‹ˆë‹¤. ì‹œë™ ëª¨í„°, ë°œì „ê¸°, ì „ì¡°ë“±ì€ ëª¨ë‘ ì „ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ì „ê¸° ì¥ì¹˜ì…ë‹ˆë‹¤."
    },
    {
        "type": "multiple_choice",
        "question": "3. ìë™ì°¨ ì—”ì§„ì´ ì‘ë™í•˜ëŠ” ë™ì•ˆ ì „ê¸°ë¥¼ ìƒì‚°í•˜ì—¬ ë°°í„°ë¦¬ë¥¼ ì¶©ì „í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ì¥ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
        "options": [
            "ì í™” í”ŒëŸ¬ê·¸",
            "ì‹œë™ ëª¨í„°",
            "ë°œì „ê¸°",
            "ì—°ë£Œ íŒí”„"
        ],
        "answer": "ë°œì „ê¸°",
        "explanation": "ë°œì „ê¸°(ì•Œí„°ë„¤ì´í„°)ëŠ” ì—”ì§„ì˜ íšŒì „ë ¥ì„ ì´ìš©í•˜ì—¬ ì „ê¸°ë¥¼ ë§Œë“¤ì–´ë‚´ê³ , ì´ ì „ê¸°ë¡œ ë°°í„°ë¦¬ë¥¼ ì¶©ì „í•˜ë©° ë‹¤ë¥¸ ì „ê¸° ì¥ì¹˜ì—ë„ ì „ì›ì„ ê³µê¸‰í•©ë‹ˆë‹¤."
    },
    {
        "type": "multiple_choice",
        "question": "4. ë‹¤ìŒ ì¤‘ ìë™ì°¨ì˜ ë™ë ¥ì„ ë°œìƒì‹œí‚¤ëŠ” 'ê¸°ê´€(ì—”ì§„) ì¥ì¹˜'ì˜ í•µì‹¬ ë¶€í’ˆì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "options": [
            "ì¡°í–¥ ì¥ì¹˜ (Steering System)",
            "í˜„ê°€ ì¥ì¹˜ (Suspension System)",
            "ì í™” í”ŒëŸ¬ê·¸ (Spark Plug)",
            "ë¼ë””ì—ì´í„° ê·¸ë¦´ (Radiator Grille)"
        ],
        "answer": "ì í™” í”ŒëŸ¬ê·¸ (Spark Plug)",
        "explanation": "ì í™” í”ŒëŸ¬ê·¸ëŠ” ì—”ì§„ ì—°ì†Œì‹¤ì—ì„œ ì—°ë£Œì™€ ê³µê¸°ì˜ í˜¼í•©ê¸°ì— ë¶ˆê½ƒì„ ì¼ìœ¼ì¼œ í­ë°œì‹œì¼œ ë™ë ¥ì„ ì–»ëŠ” í•µì‹¬ 'ê¸°ê´€' ë¶€í’ˆì…ë‹ˆë‹¤. ì¡°í–¥ ì¥ì¹˜ì™€ í˜„ê°€ ì¥ì¹˜ëŠ” 'ì„€ì‹œ'ì— ì†í•©ë‹ˆë‹¤."
    },
    {
        "type": "multiple_choice",
        "question": "5. ì „ê¸°ì˜ íë¦„ì¸ 'ì „ë¥˜'ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ í‹€ë¦° ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "options": [
            "ë‹¨ìœ„ëŠ” ì•”í˜ì–´(A)ë¥¼ ì‚¬ìš©í•œë‹¤.",
            "ì „ìì˜ ì´ë™ ë°©í–¥ê³¼ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ íë¥¸ë‹¤ê³  ì•½ì†í–ˆë‹¤.",
            "ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜ì„ 'ì €í•­'ì´ë¼ê³  í•œë‹¤.",
            "ì „ë¥˜ê°€ íë¥´ë©´ ë¹›ì´ë‚˜ ì—´ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤."
        ],
        "answer": "ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜ì„ 'ì €í•­'ì´ë¼ê³  í•œë‹¤.",
        "explanation": "ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜(ì „ê¸°ì  ì••ë ¥)ì€ 'ì „ì••'ì…ë‹ˆë‹¤. 'ì €í•­'ì€ ì˜¤íˆë ¤ ì „ë¥˜ì˜ íë¦„ì„ ë°©í•´í•˜ëŠ” ìš”ì†Œì…ë‹ˆë‹¤."
    },
    {
        "type": "short_answer",
        "question": "6. ì „ì••, ì „ë¥˜, ì €í•­ì˜ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë²•ì¹™ì˜ ì´ë¦„ì€ ë¬´ì—‡ì¸ê°€ìš”? (OOO ë²•ì¹™)",
        "answer": "ì˜´ì˜ ë²•ì¹™",
        "explanation": "ì „ì••(V), ì „ë¥˜(I), ì €í•­(R) ì‚¬ì´ì˜ ê´€ê³„ V=IRì„ 'ì˜´ì˜ ë²•ì¹™'ì´ë¼ê³  í•©ë‹ˆë‹¤."
    },
    {
        "type": "short_answer",
        "question": "7. ìë™ì°¨ì˜ ì—”ì§„ì„ ì²˜ìŒ ê°€ë™ì‹œí‚¤ê¸° ìœ„í•´ ë°°í„°ë¦¬ì˜ ì „ê¸°ë¥¼ ì´ìš©í•´ ê°•ë ¥í•œ íšŒì „ë ¥ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì „ê¸° ì¥ì¹˜ì˜ ì´ë¦„ì€ ë¬´ì—‡ì¸ê°€ìš”? (OO OO)",
        "answer": "ì‹œë™ ëª¨í„°",
        "explanation": "'ì‹œë™ ëª¨í„°' ë˜ëŠ” 'ì‹œë™ ì „ë™ê¸°'ëŠ” ì—”ì§„ì„ ë§¨ ì²˜ìŒ ëŒë ¤ì£¼ëŠ” ì¤‘ìš”í•œ ì „ê¸° ì¥ì¹˜ì…ë‹ˆë‹¤."
    }
]


# --- ê° í˜ì´ì§€ êµ¬í˜„ ---

# 1. í™ˆ í˜ì´ì§€
if menu == 'í™ˆ':
    st.title('ìë™ì°¨ ì „ê¸°ì „ìì œì–´ í•™ìŠµ ë„ìš°ë¯¸')
    st.divider() # êµ¬ë¶„ì„ 
    st.subheader('1ë‹¨ì›: ìë™ì°¨ ì „ê¸°ì „ì ê°œìš”ë¥¼ ì¸í„°ë™í‹°ë¸Œí•˜ê²Œ í•™ìŠµí•´ ë³´ì„¸ìš”.')
    
    st.write("""
    ì´ ì•±ì€ 'ìë™ì°¨ ì „ê¸°ì „ìì œì–´' êµê³¼ì˜ ì²« ë‹¨ì›ì¸ **'ìë™ì°¨ ì „ê¸°ì „ì ê°œìš”'**ì˜ ë‚´ìš©ì„ í•™ìŠµí•˜ëŠ” ë° ë„ì›€ì„ ì£¼ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.  
    ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ ì›í•˜ëŠ” í•™ìŠµ ë©”ë‰´ë¥¼ ì„ íƒí•˜ì—¬ ì§„í–‰í•´ ì£¼ì„¸ìš”.
    """)
    
    st.info("##### ğŸ“– ê°œë… í•™ìŠµ\nì „ê¸°, ì „ë¥˜, ì „ì•• ë“± ê¸°ì´ˆ ê°œë…ì„ ì‹œê° ìë£Œì™€ í•¨ê»˜ ë°°ì›Œë´…ë‹ˆë‹¤.", icon="â„¹ï¸")
    st.info("##### âœï¸ ê°œë… í™•ì¸ í€´ì¦ˆ\nê°ê´€ì‹ í€´ì¦ˆë¥¼ í’€ë©° í•™ìŠµí•œ ë‚´ìš©ì„ ì ê²€í•´ ë³´ì„¸ìš”.", icon="â„¹ï¸")
    st.info("##### ğŸ” ì „ê¸° ì¥ì¹˜ ì°¾ì•„ë³´ê¸°\nì‹¤ì œ ìë™ì°¨ ì‚¬ì§„ì„ ë³´ê³  ì „ê¸° ì¥ì¹˜ì˜ ì¢…ë¥˜ì™€ ëª…ì¹­ì„ ë§ì¶°ë´…ë‹ˆë‹¤.", icon="â„¹ï¸")


# 2. ê°œë… í•™ìŠµ í˜ì´ì§€
elif menu == 'ê°œë… í•™ìŠµ':
    st.title('ğŸ“– ê°œë… í•™ìŠµ: ìë™ì°¨ ì „ê¸°ì „ì ê°œìš”')
    st.divider()

    # íƒ­ì„ ì‚¬ìš©í•˜ì—¬ ì½˜í…ì¸  êµ¬ì„±
    tab1, tab2, tab3 = st.tabs(["âš¡ ì „ê¸°ì™€ ì „ë¥˜ì˜ ê¸°ì´ˆ", "ğŸ’¡ ì˜´ì˜ ë²•ì¹™ (V=IR)", "ğŸš— ìë™ì°¨ ì „ê¸° ì¥ì¹˜"])

    with tab1:
        st.subheader("1. ì „ê¸°(Electricity)ì™€ ì „ë¥˜(Current)")
        st.write(
            """
            ì „ê¸°ëŠ” ìš°ë¦¬ ìƒí™œê³¼ ìë™ì°¨ì— ì—†ì–´ì„œëŠ” ì•ˆ ë  ì¤‘ìš”í•œ ì—ë„ˆì§€ì…ë‹ˆë‹¤. 
            ëª¨ë“  ë¬¼ì§ˆì€ **ì›ì**ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³ , ì›ìëŠ” ì›ìí•µ(+)ê³¼ ê·¸ ì£¼ìœ„ë¥¼ ë„ëŠ” **ì „ì(-)**ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
            
            **ì „ê¸°**ë€ ë°”ë¡œ ì´ 'ì „ì'ê°€ ì´ë™í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ì—ë„ˆì§€ í˜„ìƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
            """
        )
        # ì´ë¯¸ì§€ URLì„ ì›¹ì—ì„œ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥í•œ ì£¼ì†Œë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
        st.image("https://i.imgur.com/8Qk5W6B.png", caption="[ê·¸ë¦¼ 1] ì›ìì˜ êµ¬ì¡°", width=400)
        
        st.markdown(
            """
            ---
            #### ì „ë¥˜: ì „ê¸°ì˜ íë¦„
            **ì „ë¥˜**ëŠ” ë¬¼ì´ ë†’ì€ ê³³ì—ì„œ ë‚®ì€ ê³³ìœ¼ë¡œ íë¥´ëŠ” ê²ƒì²˜ëŸ¼, ì „í•˜(ì „ì)ê°€ í•œ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ëŠ” íë¦„ì„ ë§í•©ë‹ˆë‹¤.
            - **ì „ë¥˜ì˜ ë°©í–¥:** ì „ìê°€ ì´ë™í•˜ëŠ” ë°©í–¥ê³¼ **ë°˜ëŒ€** ë°©í–¥ (ì–‘ê·¹(+) â†’ ìŒê·¹(-))
            - **ë‹¨ìœ„:** **A (ì•”í˜ì–´)**
            
            íšŒë¡œì— ì „êµ¬ì™€ ê°™ì€ ë¶€í•˜(ì¼ì„ í•˜ëŠ” ì¥ì¹˜)ê°€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´, ì „ë¥˜ê°€ íë¥´ë©´ì„œ ë¹›ì´ë‚˜ ì—´ì„ ë°œìƒì‹œí‚µë‹ˆë‹¤.
            """
        )
        st.image("https://i.imgur.com/rN5wD5k.png", caption="[ê·¸ë¦¼ 2] ì „ë¥˜ì™€ ì „ìì˜ ì´ë™ ë°©í–¥")

        st.markdown("---") # êµ¬ë¶„ì„  ì¶”ê°€

        # --- ì ê¹ í€´ì¦ˆ ì„¹ì…˜ ì¶”ê°€ ---
        st.subheader("ğŸ§ ì ê¹ í€´ì¦ˆ!")
        st.write("ì¼ìƒìƒí™œì˜ ì˜ˆì‹œë¥¼ í†µí•´ êµë¥˜ì™€ ì§ë¥˜ë¥¼ êµ¬ë¶„í•´ ë´…ì‹œë‹¤.")

        question = st.radio(
            "**Q. ìš°ë¦¬ê°€ ê°€ì •ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì½˜ì„¼íŠ¸ì˜ ì „ê¸°ì™€ ìë™ì°¨ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°°í„°ë¦¬ ì „ê¸°ëŠ” ê°ê° ë¬´ì—‡ì¼ê¹Œìš”?**",
            ('ë‘˜ ë‹¤ ì§ë¥˜(DC)ì…ë‹ˆë‹¤.', 
             'ë‘˜ ë‹¤ êµë¥˜(AC)ì…ë‹ˆë‹¤.', 
             'ê°€ì •ìš©ì€ êµë¥˜(AC), ìë™ì°¨ìš©ì€ ì§ë¥˜(DC)ì…ë‹ˆë‹¤.', 
             'ê°€ì •ìš©ì€ ì§ë¥˜(DC), ìë™ì°¨ìš©ì€ êµë¥˜(AC)ì…ë‹ˆë‹¤.'),
            index=None, # ì‚¬ìš©ìê°€ ì„ íƒí•˜ê¸° ì „ê¹Œì§€ ì•„ë¬´ê²ƒë„ ì„ íƒë˜ì§€ ì•Šë„ë¡ ì„¤ì •
        )

        if st.button('ì •ë‹µ í™•ì¸'):
            if question == 'ê°€ì •ìš©ì€ êµë¥˜(AC), ìë™ì°¨ìš©ì€ ì§ë¥˜(DC)ì…ë‹ˆë‹¤.':
                st.success('ì •ë‹µì…ë‹ˆë‹¤! ì§ì§ì§ ğŸ‘')
                st.info(
                    """
                    **í•´ì„¤:**
                    - **ê°€ì •ìš© ì „ê¸°(êµë¥˜, AC):** ë°œì „ì†Œì—ì„œ ë§Œë“¤ì–´ì§„ ì „ê¸°ëŠ” ë¨¼ ê±°ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ êµë¥˜ í˜•íƒœë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                    - **ìë™ì°¨ ë°°í„°ë¦¬(ì§ë¥˜, DC):** ë°°í„°ë¦¬ëŠ” í™”í•™ ì—ë„ˆì§€ë¥¼ ì „ê¸° ì—ë„ˆì§€ë¡œ ì €ì¥í•˜ëŠ”ë°, ì´ë•ŒëŠ” í•œ ë°©í–¥ìœ¼ë¡œë§Œ íë¥´ëŠ” ì§ë¥˜ í˜•íƒœë¥¼ ë•ë‹ˆë‹¤.
                    """
                )
            elif question is None:
                st.warning("ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”!")
            else:
                st.error('ì•„ì‰½ì§€ë§Œ í‹€ë ¸ì–´ìš”. ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ ë³´ì„¸ìš”! ğŸ¤”')
        # --- í€´ì¦ˆ ì„¹ì…˜ ë ---

    with tab2:
        st.subheader("2. ì „ì••, ì „ë¥˜, ì €í•­ì˜ ê´€ê³„: ì˜´ì˜ ë²•ì¹™")
        st.write(
            """
            ì „ê¸° íšŒë¡œì—ì„œëŠ” ì „ì••, ì „ë¥˜, ì €í•­ ì„¸ ê°€ì§€ ìš”ì†Œê°€ ì„œë¡œ ë°€ì ‘í•œ ê´€ê³„ë¥¼ ë§ºê³  ìˆìŠµë‹ˆë‹¤. ì´ ê´€ê³„ë¥¼ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ë°”ë¡œ **ì˜´ì˜ ë²•ì¹™**ì…ë‹ˆë‹¤.
            - **ì „ì••(V):** ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜ (ì „ê¸°ì ì¸ ì••ë ¥). ë‹¨ìœ„ëŠ” **V(ë³¼íŠ¸)**.
            - **ì „ë¥˜(I):** ì „í•˜ì˜ íë¦„. ë‹¨ìœ„ëŠ” **A(ì•”í˜ì–´)**.
            - **ì €í•­(R):** ì „ë¥˜ì˜ íë¦„ì„ ë°©í•´í•˜ëŠ” ì •ë„. ë‹¨ìœ„ëŠ” **Î©(ì˜´)**.
            """
        )
        
        st.image("https://i.imgur.com/xLKj32b.png", caption="[ê·¸ë¦¼ 3] ì˜´ì˜ ë²•ì¹™ (EëŠ” ì „ì•• Vì™€ ê°™ìŒ)")

        st.success(
            """
            **"íšŒë¡œì— íë¥´ëŠ” ì „ë¥˜(I)ëŠ” ì „ì••(V)ì— ë¹„ë¡€í•˜ê³ , ì €í•­(R)ì— ë°˜ë¹„ë¡€í•œë‹¤."**
            #### $I = V / R$
            """
        )
        
        st.markdown("---")
        
        st.subheader("ğŸ”¢ ì˜´ì˜ ë²•ì¹™ ê³„ì‚°ê¸°")
        st.write("ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì ˆí•˜ì—¬ ì „ì••ê³¼ ì €í•­ì˜ ë³€í™”ì— ë”°ë¥¸ ì „ë¥˜ì˜ ë³€í™”ë¥¼ ì§ì ‘ í™•ì¸í•´ë³´ì„¸ìš”.")
        
        col1, col2 = st.columns(2)
        with col1:
            voltage = st.slider('ì „ì•• (V) ì„ íƒ', 1, 24, 12, 1)
        with col2:
            resistance = st.slider('ì €í•­ (R) ì„ íƒ', 1, 100, 10, 1)

        if resistance > 0:
            current = voltage / resistance
            st.metric(label="ê³„ì‚°ëœ ì „ë¥˜ (I)", value=f"{current:.2f} A")
        else:
            st.error("ì €í•­ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.")


    with tab3:
        st.subheader("3. ìë™ì°¨ì˜ ì£¼ìš” ì „ê¸° ì¥ì¹˜")
        st.write("ìë™ì°¨ì—ëŠ” ë‹¤ì–‘í•œ ì „ê¸° ì¥ì¹˜ë“¤ì´ ìˆìœ¼ë©°, í¬ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

        col1, col2 = st.columns(2)
        with col1:
            st.info("#### ì‹œë™ ì¥ì¹˜ (Starting System)")
            st.write("ì—”ì§„ì„ ì²˜ìŒ ê°€ë™ì‹œí‚¤ê¸° ìœ„í•´ í¬ë­í¬ì¶•ì— íšŒì „ë ¥ì„ ê³µê¸‰í•˜ëŠ” ì¥ì¹˜ì…ë‹ˆë‹¤. (ì˜ˆ: ì‹œë™ ëª¨í„°)")
            st.image("https://i.imgur.com/w2Yg0oT.png", caption="ì‹œë™ ëª¨í„°")

            st.info("#### ë“±í™” ì¥ì¹˜ (Lighting System)")
            st.write("ì•¼ê°„ ì£¼í–‰ ì‹œ ì‹œì•¼ë¥¼ í™•ë³´í•˜ê³ , ë‹¤ë¥¸ ì°¨ì—ê²Œ ì‹ í˜¸ë¥¼ ë³´ë‚´ëŠ” ì¥ì¹˜ì…ë‹ˆë‹¤. (ì˜ˆ: ì „ì¡°ë“±, ë°©í–¥ì§€ì‹œë“±)")
            st.image("https://i.imgur.com/pYvj7B5.png", caption="ì „ì¡°ë“±")
        
        with col2:
            st.info("#### ì¶©ì „ ì¥ì¹˜ (Charging System)")
            st.write("ì—”ì§„ì´ ì‘ë™í•˜ëŠ” ë™ì•ˆ ì „ê¸°ë¥¼ ìƒì‚°í•˜ì—¬ ë°°í„°ë¦¬ë¥¼ ì¶©ì „í•˜ê³ , ê° ë¶€í’ˆì— ì „ì›ì„ ê³µê¸‰í•˜ëŠ” ì¥ì¹˜ì…ë‹ˆë‹¤. (ì˜ˆ: ë°œì „ê¸°)")
            st.image("https://i.imgur.com/X2d2aZk.png", caption="ë°œì „ê¸° (ì•Œí„°ë„¤ì´í„°)")

            st.info("#### ì í™” ì¥ì¹˜ (Ignition System)")
            st.write("ê°€ì†”ë¦° ì—”ì§„ì˜ ì—°ì†Œì‹¤ ë‚´ ì••ì¶•ëœ í˜¼í•©ê¸°ì— ì „ê¸° ë¶ˆê½ƒì„ ì¼ìœ¼ì¼œ ì í™”í•˜ëŠ” ì¥ì¹˜ì…ë‹ˆë‹¤. (ì˜ˆ: ì í™” ì½”ì¼, ì í™” í”ŒëŸ¬ê·¸)")
            st.image("https://i.imgur.com/Xl9k7aQ.png", caption="ì í™” í”ŒëŸ¬ê·¸")


# 3. ê°œë… í™•ì¸ í€´ì¦ˆ í˜ì´ì§€ (êµ¬í˜„)
elif menu == 'ê°œë… í™•ì¸ í€´ì¦ˆ':
    st.title('âœï¸ ê°œë… í™•ì¸ í€´ì¦ˆ')
    st.divider()

    # í€´ì¦ˆê°€ ëª¨ë‘ ëë‚¬ì„ ë•Œ
    if st.session_state.current_question >= len(quiz_data):
        st.success(f"ğŸ‰ ëª¨ë“  í€´ì¦ˆë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ë‹¹ì‹ ì˜ ì ìˆ˜ëŠ”: {st.session_state.score} / {len(quiz_data)}")
        st.balloons()
        if st.button("ë‹¤ì‹œ í’€ê¸°"):
            # ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
            st.session_state.current_question = 0
            st.session_state.score = 0
            st.rerun() # í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ í€´ì¦ˆë¥¼ ë‹¤ì‹œ ì‹œì‘
    else:
        # í˜„ì¬ ë¬¸ì œ ê°€ì ¸ì˜¤ê¸°
        question_data = quiz_data[st.session_state.current_question]
        
        st.subheader(f"ë¬¸ì œ {st.session_state.current_question + 1} / {len(quiz_data)}")
        
        user_answer = None
        # ë¬¸ì œ ìœ í˜•ì— ë”°ë¼ ì…ë ¥ ë°©ì‹ ë³€ê²½
        if question_data["type"] == "multiple_choice":
            user_answer = st.radio(
                question_data["question"],
                question_data["options"],
                index=None
            )
        elif question_data["type"] == "short_answer":
            user_answer = st.text_input(
                question_data["question"],
                placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”."
            )

        # ì œì¶œ ë²„íŠ¼
        if st.button("ì œì¶œí•˜ê¸°"):
            correct_answer = question_data["answer"]
            
            # ì£¼ê´€ì‹ ë¬¸ì œì˜ ê²½ìš°, ê³µë°±ì„ ì œê±°í•˜ê³  ë¹„êµ
            is_correct = False
            if question_data["type"] == "short_answer" and user_answer:
                is_correct = user_answer.strip() == correct_answer
            else:
                is_correct = user_answer == correct_answer

            if is_correct:
                st.success("ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘")
                st.info(f"**í•´ì„¤:** {question_data['explanation']}")
                st.session_state.score += 1
                
                # ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ê¸° ìœ„í•œ ë²„íŠ¼
                if st.button("ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™"):
                    st.session_state.current_question += 1
                    st.rerun() # í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ë‹¤ìŒ ë¬¸ì œë¥¼ í‘œì‹œ
            
            elif user_answer is None or user_answer == "":
                 st.warning("ë‹µì„ ì…ë ¥í•˜ê±°ë‚˜ ì„ íƒí•´ì£¼ì„¸ìš”.")
            else:
                st.error("ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ ë³´ì„¸ìš”. ğŸ’¡")


# 4. ì „ê¸° ì¥ì¹˜ ì°¾ì•„ë³´ê¸° í˜ì´ì§€ (ë¼ˆëŒ€)
elif menu == 'ì „ê¸° ì¥ì¹˜ ì°¾ì•„ë³´ê¸°':
    st.title('ğŸ” ì „ê¸° ì¥ì¹˜ ì°¾ì•„ë³´ê¸°')
    st.write("ì´ê³³ì—ì„œ ìë™ì°¨ ì‚¬ì§„ì„ ë³´ê³  ì „ê¸° ì¥ì¹˜ë¥¼ ì°¾ì•„ë´…ë‹ˆë‹¤.")
    # (ì¶”í›„ 4ë‹¨ê³„ì—ì„œ ë‚´ìš© êµ¬í˜„ ì˜ˆì •)

